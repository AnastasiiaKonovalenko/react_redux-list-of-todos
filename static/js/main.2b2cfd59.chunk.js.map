{"version":3,"sources":["api/todosApi.js","api/usersApi.js","store.js","api/components/todoItem.js","api/components/todoList.js","App.js","index.js"],"names":["getTodos","fetch","then","response","json","catch","getUsers","handleDelete","payload","type","store","createStore","state","action","Object","objectSpread2","isLoading","hasError","todos","filter","item","id","connect","dispatch","handleDeleteTodo","peyload","_ref","title","completed","userName","userEmail","react_default","a","createElement","Fragment","onClick","TodoList","map","todo","todoItem","key","user","name","email","App","loadData","_this$props","startLoad","handleOk","_ref2","todosFromServer","usersFromServer","regenerator_default","async","_context","prev","next","_this","props","awrap","Promise","all","sent","slicedToArray","find","person","userId","stop","_this$props2","this","className","todoList","React","Component","handleSuccess","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2b2cfd59.chunk.js","sourcesContent":["const URL = 'https://jsonplaceholder.typicode.com/todos';\nconst getTodos = () => fetch(URL)\n  .then(response => response.json())\n  .catch(() => 'Something went wrong');\n\nexport default getTodos;\n","const URL = 'https://jsonplaceholder.typicode.com/users';\nconst getUsers = () => fetch(URL)\n  .then(response => response.json())\n  .catch(() => 'Something went wrong');\n\nexport default getUsers;\n","import { createStore } from 'redux';\n\nconst START_LOADING = 'START_LOADING';\nconst HANDLE_SUCCESS = 'HANDLE_SUCCESS';\nconst DELETE_TODO = 'DELETE_TODO';\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const handleSuccess = todos => ({\n  type: HANDLE_SUCCESS, todos,\n});\n\nexport const handleDelete = payload => ({\n  type: DELETE_TODO, payload,\n});\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n        hasError: false,\n      };\n\n    case HANDLE_SUCCESS:\n      return {\n        ...state,\n        todos: action.todos,\n        isLoading: true,\n      };\n\n    case DELETE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(item => item.id !== action.payload),\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer, {\n  isLoading: false,\n  hasError: false,\n  todos: [],\n});\n\nexport default store;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { handleDelete } from '../../store';\n\nconst TodoItem\n  = ({ id, title, completed, userName, userEmail, handleDeleteTodo }) => (\n    <>\n      <tr>\n        <td>{id}</td>\n        <td>{title}</td>\n        <td>\n          {completed === true\n            ? 'completed'\n            : 'no completed'}\n        </td>\n        <td>\n          {userName}\n        </td>\n        <td>\n          {userEmail}\n        </td>\n        <td>\n          <button\n            type=\"button\"\n            onClick={() => handleDeleteTodo(id)}\n          >\n            Delete\n          </button>\n        </td>\n      </tr>\n\n    </>\n  );\n\nconst mapStateToProps = state => ({\n  todos: state.todos,\n  isLoading: state.isLoading,\n  hasError: state.hasError,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  handleDeleteTodo: peyload => dispatch(handleDelete(peyload)),\n});\n\nTodoItem.propTypes = {\n  handleDeleteTodo: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired,\n  userName: PropTypes.string.isRequired,\n  userEmail: PropTypes.string.isRequired,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TodoItem);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './todoItem';\n\nconst TodoList = ({ todos }) => (\n  <>\n    {todos.map(todo => (\n      <TodoItem\n        key={todo.id}\n        id={todo.id}\n        title={todo.title}\n        completed={todo.completed}\n        userName={todo.user.name}\n        userEmail={todo.user.email}\n      />\n    ))}\n  </>\n);\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    userId: PropTypes.number,\n    id: PropTypes.number,\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    user: PropTypes.object,\n  })).isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport getTodos from './api/todosApi';\nimport getUsers from './api/usersApi';\nimport {\n  startLoading,\n  handleSuccess,\n  handleDelete,\n} from './store';\nimport TodoList from './api/components/todoList';\n\nclass App extends React.Component {\n   loadData = async() => {\n     const { startLoad, handleOk } = this.props;\n\n     startLoad();\n\n     const [\n       todosFromServer,\n       usersFromServer,\n     ] = await Promise.all([\n       getTodos(),\n       getUsers(),\n     ]);\n\n     handleOk(todosFromServer.map(todo => (\n       {\n         ...todo,\n         user: usersFromServer.find(person => person.id === todo.userId),\n       })));\n   };\n\n   render() {\n     const { todos, isLoading } = this.props;\n\n     return (\n       isLoading\n         ? (\n           <section>\n             <h1>Dynamic list of todos</h1>\n             <div className=\"App\">\n               <table>\n                 <thead>\n                   <tr>\n                     <th className=\"click\">\n                       Id\n                     </th>\n                     <th className=\"click\">\n                       Title\n                     </th>\n                     <th className=\"click\">\n                       Status\n                     </th>\n                     <th className=\"click\">\n                       User Name\n                     </th>\n                     <th className=\"click\">\n                       User Email\n                     </th>\n                   </tr>\n                 </thead>\n                 <tbody>\n                   <TodoList todos={todos} />\n                 </tbody>\n               </table>\n             </div>\n           </section>\n         ) : (\n           <>\n             <button\n               type=\"button\"\n               onClick={this.loadData}\n             >\n               Load todos\n             </button>\n           </>\n         )\n     );\n   }\n}\n\nconst mapStateToProps = state => ({\n  todos: state.todos,\n  isLoading: state.isLoading,\n  hasError: state.hasError,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  startLoad: () => dispatch(startLoading()),\n  handleOk: todos => dispatch(handleSuccess(todos)),\n  handleDeleteTodo: peyload => dispatch(handleDelete(peyload)),\n});\n\nApp.propTypes = {\n  startLoad: PropTypes.func.isRequired,\n  handleOk: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    userId: PropTypes.number,\n    id: PropTypes.number,\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    user: PropTypes.object,\n  })).isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}